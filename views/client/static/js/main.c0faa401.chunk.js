(this["webpackJsonpentrance-monitor-client"]=this["webpackJsonpentrance-monitor-client"]||[]).push([[0],{53:function(e,t,n){e.exports=n(69)},58:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"},60:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(7),c=n.n(l),u=(n(58),n(59),n(60),n(15)),i=n(20),o=n(11),s=n.n(o),d=n(17),m=n(16),f=function(){var e=Object(d.a)(s.a.mark((function e(){var t,n,r,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=n(96),p=n(101),v=n(100),h=n(46),E=n.n(h),g=n(47),O=n.n(g),w=n(21),j=Object(b.a)((function(e){return{container:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#244e7b",alignContent:"center",justifyContent:"center",color:"white"},gridCellCentered:{justifyContent:"center",alignContent:"center",display:"grid"},textField:{"& label, & input":{color:"white"},"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"& .MuiOutlinedInput-root.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"white",borderWidth:"2px"}},"& .MuiFormLabel-root.Mui-focused":{color:"white"},"& .MuiOutlinedInput-root:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.87)"}}},links:{"& a":{color:"white"},"& a:visited":{color:"white"}}}})),x=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],l=t[1],c=Object(r.useState)(null),i=Object(m.a)(c,2),o=i[0],b=i[1],h=Object(r.useState)(!1),g=Object(m.a)(h,2),x=g[0],y=g[1],S=j(),k=a.a.createRef(),C=function(){var e=Object(d.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),y(!1),b(!1),t=k.current,n=k.current.value,e.prev=5,e.next=8,f("https://entrance-monitor.azurewebsites.net/addGuest",{guestId:n});case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),b(!0);case 14:l(!1),null!=r&&r.success?y(!0):b(!0),t.value="";case 17:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.b,{className:S.container,columns:"1fr auto 1fr",rows:"1fr auto auto 1fr",areas:["nav title .",". form hiddenSubmit",". loader .",". . ."]},a.a.createElement(w.a,{area:"nav",className:S.links},a.a.createElement(u.b,{to:"/client/viewGuests"}," View Guests ")," ",a.a.createElement("br",null),a.a.createElement(u.b,{to:"/client/viewExpected"}," Expected ")),a.a.createElement(w.a,{area:"title"},"Entrance Monitoring System"),a.a.createElement(w.a,{area:"form"},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),C()}},a.a.createElement(p.a,{id:"outlined-required",label:"Guest ID",className:S.textField,margin:"normal",variant:"outlined",inputRef:k,autoFocus:!0,disabled:n}))),a.a.createElement(w.a,{area:"hiddenSubmit",onClick:function(){return C()}}),a.a.createElement(w.a,{area:"loader",className:S.gridCellCentered},o?a.a.createElement("div",{style:{color:"red"}}," ",a.a.createElement(E.a,null)," "):null,n?a.a.createElement(v.a,{color:"inherit"}):null,x?a.a.createElement("div",{style:{color:"lime"}},a.a.createElement(O.a,null)):null)))},y=n(29),S=(n(42),function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=t[0],l=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return e.next=3,f("https://entrance-monitor.azurewebsites.net/allGuests");case 3:t=e.sent,l(t.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),a.a.createElement("div",null,n?a.a.createElement(a.a.Fragment,null,a.a.createElement(u.b,{to:"/client/"}," Add Guest ")," ",a.a.createElement("br",null),a.a.createElement(u.b,{to:"/client/viewExpected"}," Expected ")," ",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",null,"Total Guests: ",n.length),a.a.createElement(y.a,{data:n,filterable:!0,defaultFilterMethod:function(e,t){return String(t[e.id]).includes(e.value)},columns:[{Header:"DB Info",columns:[{Header:"ID",accessor:"id"}]},{Header:"Guest Info",columns:[{Header:"Personal Number",accessor:"guest_id",filterMethod:function(e,t){return t[e.id].startsWith(e.value)}},{Header:"Name",accessor:"guest_name"}]},{Header:"Arrival Info",columns:[{Header:"Arrival Time",accessor:"arrival_time",Cell:function(e){return a.a.createElement("span",null,e.value?new Date(e.value).toLocaleTimeString():null)}}]}],defaultPageSize:10,className:"-striped -highlight"})):null)}),k=n(18);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var G=function(){var e,t=Object(r.useState)(null),n=Object(m.a)(t,2),l=n[0],c=n[1],i=Object(r.useState)(null),o=Object(m.a)(i,2),b=o[0],p=o[1],v=Object(r.useState)(null),h=Object(m.a)(v,2),E=h[0],g=h[1];(Object(r.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=5;break}return e.next=3,f("https://entrance-monitor.azurewebsites.net/allExpectedGuests");case 3:t=e.sent,p(t.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(r.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=5;break}return e.next=3,f("https://entrance-monitor.azurewebsites.net/allGuests");case 3:t=e.sent,g(t.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),b&&E&&!l)&&c(b.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(k.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{arrived:E.some((function(e){return e.guest_id===t.guest_id})),arrival_time:null!=(e=E.find((function(e){return t.guest_id===e.guest_id})))?e.arrival_time:null})})));return a.a.createElement("div",null,l?a.a.createElement(a.a.Fragment,null,a.a.createElement(u.b,{to:"/client/"}," Add Guest ")," ",a.a.createElement("br",null),a.a.createElement(u.b,{to:"/client/viewGuests"}," View Guests ")," ",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",null,"Total Guests: ",l.filter((function(e){return e.arrived})).length," / ",l.length),a.a.createElement(y.a,{data:l,filterable:!0,defaultFilterMethod:function(e,t){return String(t[e.id]).includes(e.value)},columns:[{Header:"DB Info",columns:[{Header:"ID",accessor:"id"}]},{Header:"Guest Info",columns:[{Header:"Personal Number",accessor:"guest_id",filterMethod:function(e,t){return t[e.id].startsWith(e.value)}},{Header:"Name",accessor:"guest_name"},{Header:"Arrived",accessor:"arrival_time",Cell:function(e){return a.a.createElement("span",null,a.a.createElement("span",{style:{color:e.value?"#57d500":"#ff2e00"}},"\u25cf")," ",e.value?"Yes "+new Date(e.value).toLocaleTimeString():"No")}}]}],defaultPageSize:10,className:"-striped -highlight"})):null)};var I=function(){return a.a.createElement(u.a,null,a.a.createElement(i.a,{exact:!0,path:"/client/"},a.a.createElement(x,null)),a.a.createElement(i.a,{exact:!0,path:"/client/viewGuests"},a.a.createElement(S,null)),a.a.createElement(i.a,{exact:!0,path:"/client/viewExpected"},a.a.createElement(G,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.c0faa401.chunk.js.map